<div class="main-container">
  <div class="description">
    <p>広告URLとクリエイティブを紐付けてください。</p>
    <p>「囲うdivタグ」を可変させたいエリアに囲うと、囲った中は非表示となり、代わりに対応するクリエイティブが表示されます。</p>
  </div>
  <%= form_with(model: @listing, local: true) do |form| %>
  <div class="ad-setting">
    <div class="ad-name">
      <p>広告名</p>
      <%= form.text_field :ad_name %><br>
    </div>
    <div class="ad-parameter">
      <p>広告パラメータ</p>
      ?<%= form.text_field :ad_parameter %><br>
    </div>
    <div class="ad-creative">
      <p>クリエイティブ</p>
      <select name="creative" id="selector">
        <option value="#" selected="selected">選択してください</option>
        <% @listings.each do |listing| %>
          <% if listing.listing_user == current_user.user_id %>
            <option value="/listings/<%= listing.id %>/setting1"><%= listing.creative_name %></option>
          <% end %>
        <% end %>
      </select><br>
    </div>
    <div class="check-selector">
      <p>id/class</p>
      <label><input name="selector" type="radio" id="id">id</label>
      <label><input name="selector" type="radio" id="class">class</label>
    </div>
    <div class="ad-selector">
      <p>可変セレクター</p>
      <div class="select-input">
        <input type="text" name="" value=""><br>
      </div>
    </div>
    <div class="toggle-button">
      <p>On/Off</p>
      <input type="checkbox" id="toggleButton" class="toggle-button">
      <label for="toggleButton"></label>
    </div>
    <button type="submit" name="button" class="save-setting">保存</button>
  </div>
<% end %>
</div>

<script type="text/javascript">
$(document).ready(function () {
  // 通常DOMがすべて読み込まれた後に実行
  $(document).on('click', '#selector', function () {
    window.location.href = $(this).val()
  })
});
</script>
